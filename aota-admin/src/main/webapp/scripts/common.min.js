/*! aota */
function log(message){DEBUG&&window.console&&window.console.log(message)}function loadStyle(url){document.createStyleSheet?document.createStyleSheet(url):$('<link rel="stylesheet" type="text/css" href="'+url+'" />').appendTo("head")}function loadScript(url){$('<script src="'+url+'" /></script>').appendTo(".route-view")}function isChrome(){return-1!==window.navigator.userAgent.indexOf("Chrome")}function movePointerTo(elem){$(window).width()>975&&$(".pointer").removeClass("aligned").css({top:"auto",bottom:0,left:elem.offset().left+"px",width:elem.width(),height:4}).addClass("aligned")}function activeElem(elem){elem.addClass("active")}function adjustContentHeight(){var avaliableHeight=$(window).height()-168;$("#main-content-body").css("height",avaliableHeight)}function resizeTable(extra){var avaliableHeight=$("#main-content-body").height()-$(".form-inline").height()-$(".table-result thead").height()-extra,scrollbarWidth=getScrollbarWidth();$(".result").css("padding-right",scrollbarWidth),$(".tbody").css({"overflow-y":"scroll",height:avaliableHeight,"margin-right":-scrollbarWidth})}function obj2Array(obj){for(var arr=[],i=0;void 0!==obj[i];)arr=arr.concat(obj[i]),i++;return arr}function getArrSum(arr){for(var sum=0,i=0;i<arr.length;i++)"number"==typeof+arr[i]&&(sum+=arr[i]);return sum}function convertChartData(arr,type,day){var dayLabel=["","3","6","9","12","15","18","21","24","(hours)"],weekLabel=["","1","2","3","4","5","6","7","(day)"],chartData=arr;7===day&&(chartData=chartData.slice(0,7)),chartData=chartData.concat(null),chartData=[].concat.apply([null],chartData);var fillColor=null,labels=null,strokeColor=null,pointHighlightStroke=null,icon=null,options={animation:!0,scaleFontSize:10,tooltipFontSize:12,tooltipCornerRadius:2,scaleLineColor:"rgba(0,0,0,.06)",scaleShowGridLines:!1,bezierCurve:!1,pointDotStrokeWidth:2,gradientFill:!0};return 1===type?1===day?(labels=dayLabel,strokeColor="#009cde",pointHighlightStroke="rgba(0, 156, 222,0.5)",fillColor=["rgba(0, 156, 222, 0.15)","rgba(0, 156, 222, 0.09)","rgba(0, 156, 222, 0)"],icon="sprite-download-h"):7===day&&(labels=weekLabel,strokeColor="#a3be8c",pointHighlightStroke="rgba(163, 190, 140,0.5)",fillColor=["rgba(163, 190, 140, 0.24)","rgba(163, 190, 140, 0.15)","rgba(163, 190, 140, 0)"],icon="sprite-download-d",$.extend(options,{darkerLine:!0})):2===type&&(1===day?(labels=dayLabel,strokeColor="#b48ead",pointHighlightStroke="rgba(180, 142, 173,0.5)",fillColor=["rgba(180, 142, 173, 0.15)","rgba(180, 142, 173, 0.09)","rgba(180, 142, 173, 0)"],icon="sprite-upgrade-h"):7===day&&(labels=weekLabel,strokeColor="#ebcb8b",pointHighlightStroke="rgba(235, 203, 139,0.5)",fillColor=["rgba(235, 203, 139, 0.24)","rgba(235, 203, 139, 0.15)","rgba(235, 203, 139, 0)"],icon="sprite-upgrade-d",$.extend(options,{darkerLine:!0}))),{data:{labels:labels,datasets:[{label:"chart",fillColor:fillColor,strokeColor:strokeColor,pointColor:"rgba(255,255,255,1)",pointStrokeColor:strokeColor,pointHighlightFill:"#fff",pointHighlightStroke:pointHighlightStroke,data:chartData}]},options:options,icon:icon,totalColor:strokeColor}}function getScrollbarWidth(){var outer=document.createElement("div");outer.style.visibility="hidden",outer.style.width="100px",outer.style.msOverflowStyle="scrollbar",document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.createElement("div");inner.style.width="100%",outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;return outer.parentNode.removeChild(outer),widthNoScroll-widthWithScroll}function getTableCheckedId($table){$table=$table||$(".table-result");var arr=[];return $table.find(".chk-item.checked[data-id]").each(function(){arr.push(+$(this).attr("data-id"))}),arr}function getSuffix(str){var strArr=str.split(".");return strArr[strArr.length-1]}function isImage(str){return"jpg"===getSuffix(str)||"png"===getSuffix(str)||"gif"===getSuffix(str)}function uploadFile(uploadParams){var file=uploadParams.file,useFormData=uploadParams.useFormData,fileName=uploadParams.fileName,url=uploadParams.url,onProgress=uploadParams.onProgress,onSuccess=uploadParams.onSuccess,onFailure=uploadParams.onFailure,onComplete=uploadParams.onComplete,xhr=new XMLHttpRequest;xhr.upload&&xhr.upload.addEventListener("progress",function(e){onProgress(file,e.loaded,e.total)},!1);var data=null;useFormData?(data=new FormData,data.append(fileName,file)):data=file,xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status?onSuccess(file,xhr.responseText):onFailure(file,xhr.responseText),onComplete())},xhr.open("POST",url,!0),xhr.setRequestHeader("X_FILENAME",file.name),xhr.send(data)}function imageReader(file,callback){var reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(e){"function"==typeof callback&&callback(e.target.result)}}$(function(){adjustContentHeight(),movePointerTo($(".navbar-main li.active")),$(window).resize(function(){adjustContentHeight(),$(".pointer").hasClass("aligned")||movePointerTo($(".navbar-main li.active"))})}),$.ajaxSetup({cache:!0});var DEBUG=!0,TIMER={},HOST="aota-admin/";